<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>开发规范 | PENG BlOG </title>
    <meta name="generator" content="VuePress 1.6.0">
    
    <meta name="description" content="BEM思想
BEM的意思就是块（block）、元素（element）、修饰符（modifier）,是由Yandex团队提出的一种前端命名方法论。这种巧妙的命名方法让你的CSS类对其他开发者来说更加透明而且更有意义。BEM命名约定更加严格，而且包含更多的信息，它们用于一个团队开发一个耗时的大项目。
命名约定的模式如下：
` css{3}
.block{} ...">
    <link rel="preload" href="/assets/css/0.styles.3b407bb1.css" as="style"><link rel="preload" href="/assets/js/app.2081b9de.js" as="script"><link rel="preload" href="/assets/js/6.e971b65b.js" as="script"><link rel="preload" href="/assets/js/3.7df72e40.js" as="script"><link rel="preload" href="/assets/js/15.54d3db27.js" as="script"><link rel="prefetch" href="/assets/js/10.28ca56ae.js"><link rel="prefetch" href="/assets/js/11.7155161e.js"><link rel="prefetch" href="/assets/js/12.a8cde50f.js"><link rel="prefetch" href="/assets/js/13.f25c2b77.js"><link rel="prefetch" href="/assets/js/14.c5433b85.js"><link rel="prefetch" href="/assets/js/16.206b99e7.js"><link rel="prefetch" href="/assets/js/17.a2541f66.js"><link rel="prefetch" href="/assets/js/18.1a930651.js"><link rel="prefetch" href="/assets/js/4.970cf5ac.js"><link rel="prefetch" href="/assets/js/5.1c80739e.js"><link rel="prefetch" href="/assets/js/7.01076be7.js"><link rel="prefetch" href="/assets/js/8.4092820b.js"><link rel="prefetch" href="/assets/js/9.3b9ad554.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.3fc622a1.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3b407bb1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/" class="nav-link home-link">PENG BlOG  </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/" class="nav-link">文章</a></li><li class="nav-item"><a href="/tag/" class="nav-link">标签</a></li><li class="nav-item"><a href="http://tjui.glinsunai.com/#/" target="_blank" rel="noopener noreferrer" class="nav-link external">组件库</a></li><li class="nav-item"><a href="https://github.com/myronyang" target="_blank" rel="noopener noreferrer" class="nav-link external">Github</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/" class="nav-link mobile-home-link">PENG BlOG  </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/" class="nav-link">文章</a></li><li class="mobile-nav-item"><a href="/tag/" class="nav-link">标签</a></li><li class="mobile-nav-item"><a href="http://tjui.glinsunai.com/#/" target="_blank" rel="noopener noreferrer" class="nav-link external">组件库</a></li><li class="mobile-nav-item"><a href="https://github.com/myronyang" target="_blank" rel="noopener noreferrer" class="nav-link external">Github</a></li> <li class="mobile-nav-item"><!----></li></ul></div></div></div> <div class="content-wrapper"><div id="vuepress-theme-blog__post-layout"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content"><header><h1 itemprop="name headline" class="post-title">
        开发规范
      </h1> <div class="post-meta"><!----> <div class="post-meta-date"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> <time pubdate itemprop="datePublished" datetime="2018-9-6">
      Thu Sep 06 2018
    </time></div> <ul itemprop="keywords" class="post-meta-tags"><li class="post-tag" data-v-42ccfcd5><a href="/tag/业务" data-v-42ccfcd5><span data-v-42ccfcd5>业务</span></a></li></ul></div></header> <div itemprop="articleBody" class="content__default"><h2 id="css-命名规范"><a href="#css-命名规范" class="header-anchor">#</a> css 命名规范</h2> <h3 id="bem思想"><a href="#bem思想" class="header-anchor">#</a> BEM思想</h3> <p>BEM的意思就是块（block）、元素（element）、修饰符（modifier）,是由Yandex团队提出的一种前端命名方法论。这种巧妙的命名方法让你的CSS类对其他开发者来说更加透明而且更有意义。BEM命名约定更加严格，而且包含更多的信息，它们用于一个团队开发一个耗时的大项目。</p> <h4 id="命名约定的模式如下"><a href="#命名约定的模式如下" class="header-anchor">#</a> 命名约定的模式如下：</h4> <div class="language-css extra-class"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br></div><pre class="language-css"><code><span class="token selector">.block</span><span class="token punctuation">{</span><span class="token punctuation">}</span>  
<span class="token selector">.block__element</span><span class="token punctuation">{</span><span class="token punctuation">}</span>  
<span class="token selector">.block--modifier</span><span class="token punctuation">{</span><span class="token punctuation">}</span>  
</code></pre></div><p>::: tip</p> <ul><li>.block 代表了更高级别的抽象或组件。</li> <li>.block__element 代表.block的后代，用于形成一个完整的.block的整体。</li> <li>.block--modifier代表.block的不同状态或不同版本。
:::</li></ul> <p>BEM的关键是光凭名字就可以告诉其他开发者某个标记是用来干什么的。通过浏览HTML代码中的class属性，你就能够明白模块之间是如何关联的：有一些仅仅是组件，有一些则是这些组件的子孙或者是元素,还有一些是组件的其他形态或者是修饰符。</p> <h4 id="以steps进度条组件为例"><a href="#以steps进度条组件为例" class="header-anchor">#</a> 以steps进度条组件为例</h4> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.steps</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token selector">// 进度条外层块命名
.steps__title</span><span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token selector">// 内部元素命名
.steps__main</span><span class="token punctuation">{</span><span class="token punctuation">}</span> 
<span class="token selector">.steps__foot</span><span class="token punctuation">{</span><span class="token punctuation">}</span> 
<span class="token selector">.steps--active</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token selector">// 修饰符命名 
.steps--full</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><p><font color="#999">顶级块是‘steps’，它拥有一些元素，如‘title’。在不同交互场景下也会有不同形态，这种形态进而也会拥有它自己的元素‘active’。</font></p> <h4 id="项目下可能多个场景下用到进度条-为了避免样式混淆-在块级名称前加上业务名称"><a href="#项目下可能多个场景下用到进度条-为了避免样式混淆-在块级名称前加上业务名称" class="header-anchor">#</a> 项目下可能多个场景下用到进度条，为了避免样式混淆，在块级名称前加上业务名称</h4> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.goods-steps</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token selector">// 进度条外层块命名
.goods-steps__title</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token selector">// 内部元素命名
.goods-steps--active</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> // 修饰符命名 
</code></pre></div><div class="language-scss extra-class"><pre class="language-scss"><code><span class="token selector">.goods-steps </span><span class="token punctuation">{</span>
  <span class="token selector"><span class="token parent important">&amp;</span>__title</span><span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment">// 内部元素命名</span>
  <span class="token selector"><span class="token parent important">&amp;</span>__active</span><span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment">// 修饰符命名 </span>
<span class="token punctuation">}</span> <span class="token comment">// 进度条外层块命名</span>
</code></pre></div><h4 id="单个vue页面最外层标签加上类名page-wrap"><a href="#单个vue页面最外层标签加上类名page-wrap" class="header-anchor">#</a> 单个vue页面最外层标签加上类名page-wrap</h4> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>page-wrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    ...
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>::: warning
虽然BEM使其项目结构清晰，但是其命名过于繁琐冗余而可能拉大项目周期。建议在周期短或小项目的情况下精简BEM结合css热处理语言进行缩减
:::</p> <div class="language-scss extra-class"><pre class="language-scss"><code><span class="token selector">.goods-steps </span><span class="token punctuation">{</span>
  <span class="token selector"><span class="token parent important">&amp;</span>__title </span><span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token selector"><span class="token parent important">&amp;</span>__item </span><span class="token punctuation">{</span>
    <span class="token selector"><span class="token parent important">&amp;</span>--active </span><span class="token punctuation">{</span>
      <span class="token keyword">@extend</span> .goods-steps__item<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token comment">// 进度条外层块命名</span>
<span class="token selector">.goods-steps__title </span><span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment">// 内部元素命名</span>
<span class="token selector">.goods-steps--active </span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 修饰符命名 </span>
</code></pre></div><h4 id="常用块-block-命名举例"><a href="#常用块-block-命名举例" class="header-anchor">#</a> 常用块（block）命名举例</h4> <table><thead><tr><th>名称</th> <th style="text-align:center;">类型</th> <th style="text-align:right;">说明</th></tr></thead> <tbody><tr><td>container</td> <td style="text-align:center;">块</td> <td style="text-align:right;">容器,用于最外层</td></tr> <tr><td>serach</td> <td style="text-align:center;">块</td> <td style="text-align:right;">搜索</td></tr> <tr><td>nav</td> <td style="text-align:center;">块</td> <td style="text-align:right;">主导航</td></tr> <tr><td>subnav</td> <td style="text-align:center;">块</td> <td style="text-align:right;">二级导航</td></tr> <tr><td>menu</td> <td style="text-align:center;">块</td> <td style="text-align:right;">菜单</td></tr> <tr><td>submenu</td> <td style="text-align:center;">块</td> <td style="text-align:right;">子菜单</td></tr> <tr><td>sideBar</td> <td style="text-align:center;">块</td> <td style="text-align:right;">侧栏</td></tr></tbody></table> <h4 id="常用元素-element-命名举例"><a href="#常用元素-element-命名举例" class="header-anchor">#</a> 常用元素（element）命名举例</h4> <table><thead><tr><th>名称</th> <th style="text-align:center;">类型</th> <th style="text-align:right;">说明</th></tr></thead> <tbody><tr><td>head，foot</td> <td style="text-align:center;">元素</td> <td style="text-align:right;">元素头尾部</td></tr> <tr><td>main</td> <td style="text-align:center;">元素</td> <td style="text-align:right;">主体</td></tr> <tr><td>tag</td> <td style="text-align:center;">元素</td> <td style="text-align:right;">标签</td></tr> <tr><td>desc</td> <td style="text-align:center;">元素</td> <td style="text-align:right;">描述</td></tr> <tr><td>title</td> <td style="text-align:center;">元素</td> <td style="text-align:right;">标题</td></tr> <tr><td>inner</td> <td style="text-align:center;">元素</td> <td style="text-align:right;">内部嵌套</td></tr> <tr><td>items</td> <td style="text-align:center;">元素</td> <td style="text-align:right;">列表父级</td></tr> <tr><td>item</td> <td style="text-align:center;">元素</td> <td style="text-align:right;">列表子级</td></tr></tbody></table> <h4 id="常用修饰符-modifier-命名举例"><a href="#常用修饰符-modifier-命名举例" class="header-anchor">#</a> 常用修饰符（modifier）命名举例</h4> <table><thead><tr><th>名称</th> <th style="text-align:center;">类型</th> <th style="text-align:right;">说明</th></tr></thead> <tbody><tr><td>active</td> <td style="text-align:center;">修饰符</td> <td style="text-align:right;">选中状态</td></tr> <tr><td>full</td> <td style="text-align:center;">修饰符</td> <td style="text-align:right;">填满状态</td></tr> <tr><td>wait</td> <td style="text-align:center;">修饰符</td> <td style="text-align:right;">等待状态</td></tr></tbody></table> <h3 id="样式文件划分"><a href="#样式文件划分" class="header-anchor">#</a> 样式文件划分</h3> <p>以stylus为例</p> <ul><li>reset.styl // 初始化样式</li></ul> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">html<span class="token punctuation">,</span> body<span class="token punctuation">,</span> div<span class="token punctuation">,</span> span<span class="token punctuation">,</span> applet<span class="token punctuation">,</span> object<span class="token punctuation">,</span> iframe<span class="token punctuation">,</span>
h1<span class="token punctuation">,</span> h2<span class="token punctuation">,</span> h3<span class="token punctuation">,</span> h4<span class="token punctuation">,</span> h5<span class="token punctuation">,</span> h6<span class="token punctuation">,</span> p<span class="token punctuation">,</span> blockquote<span class="token punctuation">,</span> pre<span class="token punctuation">,</span>
a<span class="token punctuation">,</span> abbr<span class="token punctuation">,</span> acronym<span class="token punctuation">,</span> address<span class="token punctuation">,</span> big<span class="token punctuation">,</span> cite<span class="token punctuation">,</span> code<span class="token punctuation">,</span>
del<span class="token punctuation">,</span> dfn<span class="token punctuation">,</span> em<span class="token punctuation">,</span> img<span class="token punctuation">,</span> ins<span class="token punctuation">,</span> kbd<span class="token punctuation">,</span> q<span class="token punctuation">,</span> s<span class="token punctuation">,</span> samp<span class="token punctuation">,</span>
small<span class="token punctuation">,</span> strike<span class="token punctuation">,</span> strong<span class="token punctuation">,</span> sub<span class="token punctuation">,</span> sup<span class="token punctuation">,</span> tt<span class="token punctuation">,</span> var<span class="token punctuation">,</span>
b<span class="token punctuation">,</span> u<span class="token punctuation">,</span> i<span class="token punctuation">,</span> center<span class="token punctuation">,</span>
dl<span class="token punctuation">,</span> dt<span class="token punctuation">,</span> dd<span class="token punctuation">,</span> ol<span class="token punctuation">,</span> ul<span class="token punctuation">,</span> li<span class="token punctuation">,</span>
fieldset<span class="token punctuation">,</span> form<span class="token punctuation">,</span> label<span class="token punctuation">,</span> legend<span class="token punctuation">,</span>
table<span class="token punctuation">,</span> caption<span class="token punctuation">,</span> tbody<span class="token punctuation">,</span> tfoot<span class="token punctuation">,</span> thead<span class="token punctuation">,</span> tr<span class="token punctuation">,</span> th<span class="token punctuation">,</span> td<span class="token punctuation">,</span>
article<span class="token punctuation">,</span> aside<span class="token punctuation">,</span> canvas<span class="token punctuation">,</span> details<span class="token punctuation">,</span> embed<span class="token punctuation">,</span>
figure<span class="token punctuation">,</span> figcaption<span class="token punctuation">,</span> footer<span class="token punctuation">,</span> header<span class="token punctuation">,</span>
menu<span class="token punctuation">,</span> nav<span class="token punctuation">,</span> output<span class="token punctuation">,</span> ruby<span class="token punctuation">,</span> section<span class="token punctuation">,</span> summary<span class="token punctuation">,</span>
time<span class="token punctuation">,</span> mark<span class="token punctuation">,</span> audio<span class="token punctuation">,</span> video<span class="token punctuation">,</span> input</span>
  <span class="token property-declaration"><span class="token property">margin</span> <span class="token number">0</span></span>
  <span class="token property-declaration"><span class="token property">padding</span> <span class="token number">0</span></span>
  <span class="token property-declaration"><span class="token property">border</span> <span class="token number">0</span></span>
  <span class="token property-declaration"><span class="token property">font-size</span> <span class="token number">100%</span></span>
  <span class="token property-declaration"><span class="token property">font-weight</span> <span class="token number">100</span></span>
  <span class="token property-declaration"><span class="token property">vertical-align</span> baseline</span>

<span class="token comment">/* HTML5 display-role reset for older browsers */</span>
<span class="token selector">article<span class="token punctuation">,</span> aside<span class="token punctuation">,</span> details<span class="token punctuation">,</span> figcaption<span class="token punctuation">,</span> figure<span class="token punctuation">,</span>
footer<span class="token punctuation">,</span> header<span class="token punctuation">,</span> menu<span class="token punctuation">,</span> nav<span class="token punctuation">,</span> section</span>
  <span class="token property-declaration"><span class="token property">display</span> block</span>

<span class="token selector">body</span>
  <span class="token property-declaration"><span class="token property">line-height</span> <span class="token number">1</span></span>

<span class="token selector">blockquote<span class="token punctuation">,</span> q</span>
  <span class="token property-declaration"><span class="token property">quotes</span> none</span>

<span class="token selector">blockquote:before<span class="token punctuation">,</span> blockquote:after<span class="token punctuation">,</span>
q:before<span class="token punctuation">,</span> q:after</span>
  <span class="token property-declaration"><span class="token property">content</span> none</span>

<span class="token selector">table</span>
  <span class="token property-declaration"><span class="token property">border-collapse</span> collapse</span>
  <span class="token property-declaration"><span class="token property">border-spacing</span> <span class="token number">0</span></span>

<span class="token comment">/* custom */</span>

<span class="token selector">a</span>
  <span class="token property-declaration"><span class="token property">color</span> <span class="token hexcode">#7e8c8d</span></span>
  <span class="token property-declaration"><span class="token property">-webkit-backface-visibility</span> hidden</span>
  <span class="token property-declaration"><span class="token property">text-decoration</span> none</span>

<span class="token selector">a:active </span>
  <span class="token property-declaration"><span class="token property">outline</span> <span class="token number">0</span></span>

<span class="token selector">li</span>
  <span class="token property-declaration"><span class="token property">list-style</span> none</span>

<span class="token selector">body</span>
  <span class="token property-declaration"><span class="token property">-webkit-text-size-adjust</span> none</span>
  <span class="token property-declaration"><span class="token property">-webkit-tap-highlight-color</span> <span class="token func"><span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span></span></span>
</code></pre></div><ul><li>base.styl // 基本样式</li></ul> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">.clear_fix</span>
  <span class="token selector">&amp;::after</span>
    <span class="token property-declaration"><span class="token property">content</span> <span class="token string">&quot;&quot;</span></span>
    <span class="token property-declaration"><span class="token property">display</span> table</span>
    <span class="token property-declaration"><span class="token property">clear</span> both</span>

<span class="token selector">.bd_t_1<span class="token punctuation">,</span> .db_r_1<span class="token punctuation">,</span> .bd_b_1<span class="token punctuation">,</span> .db_l_1</span>
  <span class="token property-declaration"><span class="token property">position</span> relative</span>
  <span class="token selector">&amp;::before<span class="token punctuation">,</span> &amp;::after</span>
    <span class="token property-declaration"><span class="token property">content</span> <span class="token string">&quot;&quot;</span></span>
    <span class="token property-declaration"><span class="token property">display</span> block</span>
    <span class="token property-declaration"><span class="token property">position</span> absolute</span>
    <span class="token property-declaration"><span class="token property">transform-origin</span> <span class="token number">0</span> <span class="token number">0</span></span>

<span class="token selector">.bd_t_1</span>
  <span class="token selector">&amp;::before</span>
    <span class="token property-declaration"><span class="token property">border-top</span> <span class="token number">1</span>px solid $color-row-line</span>
    <span class="token property-declaration"><span class="token property">left</span> <span class="token number">0</span></span>
    <span class="token property-declaration"><span class="token property">top</span> <span class="token number">0</span></span>
    <span class="token property-declaration"><span class="token property">width</span> <span class="token number">100%</span></span>
    <span class="token property-declaration"><span class="token property">transform-origin</span> <span class="token number">0</span> top</span>

<span class="token selector">.db_r_1</span>
  <span class="token selector">&amp;::after</span>
    <span class="token property-declaration"><span class="token property">border-right</span> <span class="token number">1</span>px solid $color-col-line</span>
    <span class="token property-declaration"><span class="token property">top</span> <span class="token number">0</span></span>
    <span class="token property-declaration"><span class="token property">right</span> <span class="token number">0</span></span>
    <span class="token property-declaration"><span class="token property">height</span> <span class="token number">100%</span></span>
    <span class="token property-declaration"><span class="token property">transform-origin</span> right <span class="token number">0</span></span>

<span class="token selector">.bd_b_1</span>
  <span class="token selector">&amp;::after</span>
    <span class="token property-declaration"><span class="token property">border-bottom</span> <span class="token number">1</span>px solid $color-row-line</span>
    <span class="token property-declaration"><span class="token property">left</span> <span class="token number">0</span></span>
    <span class="token property-declaration"><span class="token property">bottom</span> <span class="token number">0</span></span>
    <span class="token property-declaration"><span class="token property">width</span> <span class="token number">100%</span></span>
    <span class="token property-declaration"><span class="token property">transform-origin</span> <span class="token number">0</span> bottom</span>

<span class="token selector">.db_l_1</span>
  <span class="token selector">&amp;::before</span>
    <span class="token property-declaration"><span class="token property">border-left</span> <span class="token number">1</span>px solid $color-col-line</span>
    <span class="token property-declaration"><span class="token property">top</span> <span class="token number">0</span></span>
    <span class="token property-declaration"><span class="token property">left</span> <span class="token number">0</span></span>
    <span class="token property-declaration"><span class="token property">height</span> <span class="token number">100%</span></span>
    <span class="token property-declaration"><span class="token property">transform-origin</span> left <span class="token number">0</span></span>

<span class="token atrule-declaration"><span class="token atrule">@media</span> <span class="token punctuation">(</span>min-resolution <span class="token number">2</span>dppx<span class="token punctuation">)</span></span>
  <span class="token selector">.bd_t_1</span>
    <span class="token selector">&amp;::before</span>
      <span class="token property-declaration"><span class="token property">width</span> <span class="token number">200%</span></span>
      <span class="token property-declaration"><span class="token property">transform</span> <span class="token func"><span class="token function">scale</span><span class="token punctuation">(</span><span class="token operator">.</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token func"><span class="token function">translateZ</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></span></span></span>
  <span class="token selector">.db_r_1</span>
    <span class="token selector">&amp;::after</span>
      <span class="token property-declaration"><span class="token property">height</span> <span class="token number">200%</span></span>
      <span class="token property-declaration"><span class="token property">transform</span> <span class="token func"><span class="token function">scale</span><span class="token punctuation">(</span><span class="token operator">.</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token func"><span class="token function">translateZ</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></span></span></span>
  <span class="token selector">.bd_b_1</span>
    <span class="token selector">&amp;::after</span>
      <span class="token property-declaration"><span class="token property">width</span> <span class="token number">200%</span></span>
      <span class="token property-declaration"><span class="token property">transform</span> <span class="token func"><span class="token function">scale</span><span class="token punctuation">(</span><span class="token operator">.</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token func"><span class="token function">translateZ</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></span></span></span>
  <span class="token selector">.db_l_1</span>
    <span class="token selector">&amp;::before</span>
      <span class="token property-declaration"><span class="token property">height</span> <span class="token number">200%</span></span>
      <span class="token property-declaration"><span class="token property">transform</span> <span class="token func"><span class="token function">scale</span><span class="token punctuation">(</span><span class="token operator">.</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token func"><span class="token function">translateZ</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></span></span></span>

<span class="token atrule-declaration"><span class="token atrule">@media</span> <span class="token punctuation">(</span>min-resolution <span class="token number">3</span>dppx<span class="token punctuation">)</span></span>
  <span class="token selector">.bd_t_1</span>
    <span class="token selector">&amp;::before</span>
      <span class="token property-declaration"><span class="token property">width</span> <span class="token number">300%</span></span>
      <span class="token property-declaration"><span class="token property">transform</span> <span class="token func"><span class="token function">scale</span><span class="token punctuation">(</span><span class="token operator">.</span><span class="token number">333</span><span class="token punctuation">)</span> <span class="token func"><span class="token function">translateZ</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></span></span></span>
  <span class="token selector">.db_r_1</span>
    <span class="token selector">&amp;::after</span>
      <span class="token property-declaration"><span class="token property">height</span> <span class="token number">300%</span></span>
      <span class="token property-declaration"><span class="token property">transform</span> <span class="token func"><span class="token function">scale</span><span class="token punctuation">(</span><span class="token operator">.</span><span class="token number">333</span><span class="token punctuation">)</span> <span class="token func"><span class="token function">translateZ</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></span></span></span>
  <span class="token selector">.bd_b_1</span>
    <span class="token selector">&amp;::after</span>
      <span class="token property-declaration"><span class="token property">width</span> <span class="token number">300%</span></span>
      <span class="token property-declaration"><span class="token property">transform</span> <span class="token func"><span class="token function">scale</span><span class="token punctuation">(</span><span class="token operator">.</span><span class="token number">333</span><span class="token punctuation">)</span> <span class="token func"><span class="token function">translateZ</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></span></span></span>
  <span class="token selector">.db_l_1</span>
    <span class="token selector">&amp;::before</span>
      <span class="token property-declaration"><span class="token property">height</span> <span class="token number">300%</span></span>
      <span class="token property-declaration"><span class="token property">transform</span> <span class="token func"><span class="token function">scale</span><span class="token punctuation">(</span><span class="token operator">.</span><span class="token number">333</span><span class="token punctuation">)</span> <span class="token func"><span class="token function">translateZ</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></span></span></span>
</code></pre></div><ul><li>variable.styl // 常用样式变量申明</li></ul> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token comment">//// basic</span>
<span class="token variable-declaration"><span class="token variable">$color-green</span> <span class="token operator">=</span> <span class="token hexcode">#16ce7f</span></span>
<span class="token variable-declaration"><span class="token variable">$color-regular-blue</span> <span class="token operator">=</span> <span class="token hexcode">#4a4c5b</span></span>
<span class="token variable-declaration"><span class="token variable">$color-background</span> <span class="token operator">=</span> <span class="token hexcode">#f7f7f7</span></span>
<span class="token variable-declaration"><span class="token variable">$color-white</span> <span class="token operator">=</span> <span class="token hexcode">#fff</span></span>
<span class="token variable-declaration"><span class="token variable">$color-black</span> <span class="token operator">=</span> <span class="token hexcode">#000</span></span>

<span class="token comment">//// gray</span>
<span class="token variable-declaration"><span class="token variable">$color-dark-grey</span> <span class="token operator">=</span> <span class="token hexcode">#333</span></span>
<span class="token variable-declaration"><span class="token variable">$color-grey</span> <span class="token operator">=</span> <span class="token hexcode">#666</span></span>
<span class="token variable-declaration"><span class="token variable">$color-light-grey</span> <span class="token operator">=</span> <span class="token hexcode">#999</span></span>
<span class="token variable-declaration"><span class="token variable">$color-light-grey-s</span> <span class="token operator">=</span> <span class="token hexcode">#ccc</span></span>
<span class="token variable-declaration"><span class="token variable">$color-light-grey-ss</span> <span class="token operator">=</span> <span class="token hexcode">#eee</span></span>
<span class="token variable-declaration"><span class="token variable">$color-light-grey-sss</span> <span class="token operator">=</span> <span class="token hexcode">#fcfcfc</span></span>
<span class="token variable-declaration"><span class="token variable">$color-active-grey</span> <span class="token operator">=</span> <span class="token hexcode">#e8e8e8</span></span>

<span class="token variable-declaration"><span class="token variable">$color-dark-grey-opacity</span> <span class="token operator">=</span> <span class="token func"><span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">74</span><span class="token punctuation">,</span> <span class="token number">76</span><span class="token punctuation">,</span> <span class="token number">91</span><span class="token punctuation">,</span> <span class="token number">0.8</span><span class="token punctuation">)</span></span></span>
<span class="token variable-declaration"><span class="token variable">$color-grey-opacity</span> <span class="token operator">=</span> <span class="token func"><span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">.</span><span class="token number">08</span><span class="token punctuation">)</span></span></span>
<span class="token variable-declaration"><span class="token variable">$color-light-grey-opacity</span> <span class="token operator">=</span> <span class="token func"><span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">.</span><span class="token number">04</span><span class="token punctuation">)</span></span></span>
</code></pre></div><ul><li>minxin.styl // 常用样式方法</li></ul> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token func"><span class="token function">border-1px</span><span class="token punctuation">(</span>$color<span class="token punctuation">)</span></span>
  <span class="token property-declaration"><span class="token property">position</span> relative</span>
  <span class="token selector">&amp;:after</span>
    <span class="token property-declaration"><span class="token property">display</span> block</span>
    <span class="token property-declaration"><span class="token property">position</span> absolute</span>
    <span class="token property-declaration"><span class="token property">left</span> <span class="token number">0</span></span>
    <span class="token property-declaration"><span class="token property">bottom</span> <span class="token number">0</span></span>
    <span class="token property-declaration"><span class="token property">border-top</span> <span class="token number">1</span>px solid $color</span>
    <span class="token property-declaration"><span class="token property">content</span> <span class="token string">' '</span></span>
    <span class="token property-declaration"><span class="token property">width</span> <span class="token number">100%</span></span>

<span class="token func"><span class="token function">border-none</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
  <span class="token selector">&amp;:after</span>
    <span class="token property-declaration"><span class="token property">display</span> none</span>

<span class="token func"><span class="token function">bg-image</span><span class="token punctuation">(</span>$url<span class="token punctuation">)</span></span>
  <span class="token property-declaration"><span class="token property">background-image</span> <span class="token url">url(&quot;images/&quot;+$url + &quot;@2x.png&quot;)</span></span>
  <span class="token atrule-declaration"><span class="token atrule">@media</span> <span class="token punctuation">(</span>-webkit-min-device-pixel-ratio<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>min-device-pixel-ratio<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span></span>
    <span class="token property-declaration"><span class="token property">background-image</span> <span class="token url">url(&quot;images/&quot;+$url + &quot;@3x.png&quot;)</span></span>
</code></pre></div><ul><li>index.styl // 以上样式文件引入</li></ul> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token atrule-declaration"><span class="token atrule">@import</span> <span class="token string">&quot;./reset.styl&quot;</span></span>
<span class="token atrule-declaration"><span class="token atrule">@import</span> <span class="token string">&quot;./variable.styl&quot;</span></span>
<span class="token atrule-declaration"><span class="token atrule">@import</span> <span class="token string">&quot;./base.styl&quot;</span></span>
<span class="token atrule-declaration"><span class="token atrule">@import</span> <span class="token string">&quot;./minxin.styl&quot;</span></span>
</code></pre></div><h2 id="js-命名规范"><a href="#js-命名规范" class="header-anchor">#</a> js 命名规范</h2> <h3 id="变量"><a href="#变量" class="header-anchor">#</a> 变量</h3> <p>必须采用小驼峰式命名法  <font color="#999">命名规范：前缀应当是名词。(函数的名字前缀为动词，以此区分变量和函数)</font></p> <p>命名建议：尽量在变量名字中体现所属类型，如:length、count等表示数字类型；而包含name、title表示为字符串类型。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 好的命名方式</span>
<span class="token keyword">let</span> maxCount <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> tableTitle <span class="token operator">=</span> <span class="token string">'LoginTable'</span><span class="token punctuation">;</span>
<span class="token comment">// 不好的命名方式</span>
<span class="token keyword">let</span> setCount <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> getTitle <span class="token operator">=</span> <span class="token string">'LoginTable'</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="常量"><a href="#常量" class="header-anchor">#</a> 常量</h3> <p>必须采用全大写的命名 <font color="#999">且单词以_分割，常量通常用于ajax请求url，和一些不会改变的数据</font></p> <p>命名规范：使用大写字母和下划线来组合命名，下划线用以分割单词。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token constant">MAX_COUNT</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">URL</span> <span class="token operator">=</span> <span class="token string">'https://www.baidu.com'</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="函数"><a href="#函数" class="header-anchor">#</a> 函数</h3> <ul><li>命名方法：小驼峰式命名法。</li> <li>命名规范：前缀应当为动词。</li> <li>命名建议：可使用常见动词约定。</li></ul> <table><thead><tr><th>动词</th> <th style="text-align:center;">含义</th> <th style="text-align:right;">返回值</th></tr></thead> <tbody><tr><td>can</td> <td style="text-align:center;">判断是否可执行某个动作(权限)</td> <td style="text-align:right;">函数返回一个布尔值。true：可执行；false：不可执行</td></tr> <tr><td>has</td> <td style="text-align:center;">判断是否含有某个值</td> <td style="text-align:right;">函数返回一个布尔值。true：含有此值；false：不含有此值</td></tr> <tr><td>is</td> <td style="text-align:center;">判断是否为某个值</td> <td style="text-align:right;">函数返回一个布尔值。true：为某个值；false：不为某个值</td></tr> <tr><td>get</td> <td style="text-align:center;">获取某个值</td> <td style="text-align:right;">函数返回一个非布尔值</td></tr> <tr><td>set</td> <td style="text-align:center;">设置某个值</td> <td style="text-align:right;">无返回值、返回是否设置成功或者返回链式对象</td></tr> <tr><td>load</td> <td style="text-align:center;">加载某些数据</td> <td style="text-align:right;">无返回值或者返回是否加载完成的结果</td></tr></tbody></table> <h3 id="类-构造函数"><a href="#类-构造函数" class="header-anchor">#</a> 类 &amp; 构造函数</h3> <p><font color="#999">命名方法：大驼峰式命名法，首字母大写。</font></p> <p>命名规范：前缀为名称。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> name<span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'jack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="类的成员"><a href="#类的成员" class="header-anchor">#</a> 类的成员</h3> <ul><li>公共属性和方法：跟变量和函数的命名一样</li> <li>私有属性和方法：前缀为_(下划线)，后面跟公共属性和方法一样的命名方式</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> _name<span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
  <span class="token comment">// 公共方法</span>
  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 公共方法</span>
  <span class="token function">setName</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">'jack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="vue命名规范"><a href="#vue命名规范" class="header-anchor">#</a> vue命名规范</h3> <h4 id="vue生命周期顺序"><a href="#vue生命周期顺序" class="header-anchor">#</a> vue生命周期顺序</h4> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">' '</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>，
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>，
  computed<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>，
  components<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  watch<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  filters<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>，
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">destroyed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="data对象下属性命名"><a href="#data对象下属性命名" class="header-anchor">#</a> data对象下属性命名</h4> <ul><li>数据列表使用lists结尾</li> <li>数据详情对象使用detail结尾</li> <li>选中对象使用selected开头</li> <li>选中样式状态使用active结尾</li> <li>显示隐藏状态使用visible结尾</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    splitPayActive<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    popupVisible<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    selectedSplitPay<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    priceDetail<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    couponLists<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>::: warning
如果visible有多个属性，建议放在一个对象下
:::</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    visible<span class="token operator">:</span> <span class="token punctuation">{</span>
      detail<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      downPay<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      periods<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      coupon<span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="点击类事件使用handle开头"><a href="#点击类事件使用handle开头" class="header-anchor">#</a> 点击类事件使用handle开头</h4> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tj-checker<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>active ? 'tj-checker__active' : ''<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:</span><span class="token style-attr language-css"><span class="token attr-name"><span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value">style</span><span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handleClick<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="组件绑定事件使用on开头"><a href="#组件绑定事件使用on开头" class="header-anchor">#</a> 组件绑定事件使用on开头</h4> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>selected-address</span>
  <span class="token attr-name">:data</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>addressLists<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:visible.sync</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>visible.address<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">@change</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>onAddressChange<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>selected-address</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="获取接口数据方法使用load开头"><a href="#获取接口数据方法使用load开头" class="header-anchor">#</a> 获取接口数据方法使用load开头</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">loadAddressLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> params <span class="token operator">=</span> <span class="token punctuation">{</span>
    isHot<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mianBodyType<span class="token punctuation">.</span>isHot
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  database<span class="token punctuation">.</span><span class="token function">getStoreProvinceCity</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>addressLists <span class="token operator">=</span> res<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="简易项目模块划分"><a href="#简易项目模块划分" class="header-anchor">#</a> 简易项目模块划分</h2> <p>当项目业务逻辑多业务量大的时候建议这样划分。当后台接口未完成，写mock数据太麻烦，先自己定义视图数据，保证视图组件字段通用性，最后后台接口数据相转换。</p> <h3 id="database目录"><a href="#database目录" class="header-anchor">#</a> database目录</h3> <p>此目录下存放各个模块业务所需要的数据，各js文件以业务逻辑区分，比如说商品模块，购物车模块等。
以案例case.js为例</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 封装后的ajax方法</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> postAxios<span class="token punctuation">,</span> getAxios <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../utils'</span>
<span class="token keyword">class</span> <span class="token class-name">CaseDB</span> <span class="token punctuation">{</span>
  <span class="token comment">/**
   * 获取首页数据
   */</span>
  <span class="token function">getIndexDetail</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">postAxios</span><span class="token punctuation">(</span><span class="token string">'index/getad'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/**
   * 获取案例列表所有风格
   */</span>
  <span class="token function">getHouseStyles</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">postAxios</span><span class="token punctuation">(</span><span class="token string">'index/GetAllHouseStyles'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/**
   * 获取案例列表
   */</span>
  <span class="token function">getCaseList</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">postAxios</span><span class="token punctuation">(</span><span class="token string">'index/GetCaseList'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 导出模块</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span>
  CaseDB
<span class="token punctuation">}</span>
</code></pre></div><h3 id="viewmodel目录"><a href="#viewmodel目录" class="header-anchor">#</a> viewmodel目录</h3> <p>此目录下存放各个模块数据结构，以功能模块划分，对应相应的视图组件，如表单和视图展示的列表详情数据。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 案例评论列表
 */</span>
<span class="token keyword">class</span> <span class="token class-name">CaseCommentListVM</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>image <span class="token operator">=</span> <span class="token string">''</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">''</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>context <span class="token operator">=</span> <span class="token string">''</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>reply <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * 案例上传
 */</span>
<span class="token keyword">class</span> <span class="token class-name">CasePublishVM</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>token <span class="token operator">=</span> <span class="token string">''</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">''</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>community <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token string">''</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>house <span class="token operator">=</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      area<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
      room<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
      hall<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
      kitchen<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
      toilet<span class="token operator">:</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>description <span class="token operator">=</span> <span class="token string">''</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>promise <span class="token operator">=</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span>
  CasePublishVM<span class="token punctuation">,</span>
  CaseCommentListVM
<span class="token punctuation">}</span>
</code></pre></div><p>CasePublishVM主要用于案例上传的表单数据</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form</span> <span class="token attr-name">:model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewmodel<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:rules</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>rules<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewmodel<span class="token punctuation">&quot;</span></span> <span class="token attr-name">label-width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>100px<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>小区名称<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewmodel.name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>请输入小区名称<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>小区地址<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>address<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>form-house<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-row</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-select</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewmodel.province<span class="token punctuation">&quot;</span></span> <span class="token attr-name">filterable</span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>请选择省份/直辖市<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@change</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>checkProvince<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-option</span> <span class="token attr-name">:label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item.provincename<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item.provinceid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item in area.province<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-option</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-select</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-select</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewmodel.city<span class="token punctuation">&quot;</span></span> <span class="token attr-name">filterable</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ml_10<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>请选择城市<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@change</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>checkCity<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-option</span> <span class="token attr-name">:label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item.cityname<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item.cityid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item in area.city<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-option</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-select</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-select</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewmodel.district<span class="token punctuation">&quot;</span></span> <span class="token attr-name">filterable</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ml_10<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>请选择县/区<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-option</span> <span class="token attr-name">:label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item.districtname<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item.districtid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item in area.district<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-option</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-select</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-row</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-row</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>vmap</span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>请输入小区详细地址(可输入小区名称搜索)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>1070<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>500<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@change</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>changeMap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>vmap</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-row</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>submitForm('viewmodel')<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>立即创建<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>resetForm('viewmodel')<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>重置<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> CommunityPublishVM <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/assets/js/viewmodel/case&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Publish2dControl <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/assets/js/controller/publish2d&quot;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      controller<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Publish2dControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      viewmodel<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">CommunityPublishVM</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">submitForm</span><span class="token punctuation">(</span><span class="token parameter">formName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">[</span>formName<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token parameter">valid</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>valid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>controller<span class="token punctuation">.</span><span class="token function">addCommunity</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>viewmodel<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$message</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              message<span class="token operator">:</span> <span class="token string">'小区添加成功'</span><span class="token punctuation">,</span>
              type<span class="token operator">:</span> <span class="token string">'success'</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">resetForm</span><span class="token punctuation">(</span><span class="token parameter">formName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">[</span>formName<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">resetFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>将表单数据提交到controller下的addCommunity方法进行数据转换和数据提交再异步返回成功后的回调，下面会说到controller下的用法。</p> <h3 id="controller目录"><a href="#controller目录" class="header-anchor">#</a> controller目录</h3> <p>此目录下存放各个视图业务模块数据处理，而视图里面只处理视图特效操作逻辑，将数据操作抽离出来。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> CaseDB<span class="token punctuation">,</span> CasePictureDB <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../database/case'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> AddCasePictureVM<span class="token punctuation">,</span> CaseGoodsListVM <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../viewmodel/case'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> formatDate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../utils'</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Publish2dControl</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>casePictureDB <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CasePictureDB</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>caseDB <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CaseDB</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/**
   * 小区信息上传
   */</span>
  <span class="token keyword">async</span> <span class="token function">addCommunity</span> <span class="token punctuation">(</span><span class="token parameter">param</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">const</span> postParam <span class="token operator">=</span> <span class="token punctuation">{</span>
      UserId<span class="token operator">:</span> param<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
      Token<span class="token operator">:</span> param<span class="token punctuation">.</span>token<span class="token punctuation">,</span>
      Name<span class="token operator">:</span> param<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
      ProvinceId<span class="token operator">:</span> param<span class="token punctuation">.</span>province<span class="token punctuation">,</span>
      CityId<span class="token operator">:</span> param<span class="token punctuation">.</span>city<span class="token punctuation">,</span>
      DistrictId<span class="token operator">:</span> param<span class="token punctuation">.</span>district<span class="token punctuation">,</span>
      DetialAddress<span class="token operator">:</span> param<span class="token punctuation">.</span>address
    <span class="token punctuation">}</span>
    <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>caseDB<span class="token punctuation">.</span><span class="token function">addCommunity</span><span class="token punctuation">(</span>postParam<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      result <span class="token operator">=</span> res
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> result
  <span class="token punctuation">}</span>

  <span class="token comment">/**
   * 案例效果图修改列表数据转换
   */</span>
  <span class="token keyword">async</span> <span class="token function">setChangeCaseList</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">const</span> params <span class="token operator">=</span> <span class="token punctuation">{</span>
      caseid<span class="token operator">:</span> data<span class="token punctuation">.</span>caseId
    <span class="token punctuation">}</span>
    <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>caseDB<span class="token punctuation">.</span><span class="token function">getCaseDetail</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      res<span class="token punctuation">.</span>imgs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">ele</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> view <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AddCasePictureVM</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        view<span class="token punctuation">.</span>token <span class="token operator">=</span> param<span class="token punctuation">.</span>token
        view<span class="token punctuation">.</span>id <span class="token operator">=</span> param<span class="token punctuation">.</span>caseId
        view<span class="token punctuation">.</span>type <span class="token operator">=</span> ele<span class="token punctuation">.</span>imgtype
        view<span class="token punctuation">.</span>primary <span class="token operator">=</span> ele<span class="token punctuation">.</span>bimg
        view<span class="token punctuation">.</span>time <span class="token operator">=</span> utils<span class="token punctuation">.</span><span class="token function">formatDate</span><span class="token punctuation">(</span>ele<span class="token punctuation">.</span>time<span class="token punctuation">)</span> <span class="token comment">// 时间格式转换</span>
        result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>view<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> result
  <span class="token punctuation">}</span>
  
<span class="token punctuation">}</span>
</code></pre></div><ul><li>addCommunity方法将视图中数据转换成接口中要的数据提交到database的接口中异步返回接口返回结果。</li> <li>setCasePictureList方法将database中的getCaseDetail接口返回的数据处理成视图中所需要的数据结构和属性名称。</li></ul> <p>::: danger
具体情况根据项目实际情况划分，不能一蹴而就。小点项目业务逻辑没那么复杂时不建议使用这套，最终以目录代码结构清晰为最终目的。
:::</p></div> <footer><!----> <hr> <!----></footer></article> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#css-命名规范" title="css 命名规范">css 命名规范</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#bem思想" title="BEM思想">BEM思想</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#样式文件划分" title="样式文件划分">样式文件划分</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#js-命名规范" title="js 命名规范">js 命名规范</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#变量" title="变量">变量</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#常量" title="常量">常量</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#函数" title="函数">函数</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#类-构造函数" title="类 &amp; 构造函数">类 &amp; 构造函数</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#类的成员" title="类的成员">类的成员</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#vue命名规范" title="vue命名规范">vue命名规范</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#简易项目模块划分" title="简易项目模块划分">简易项目模块划分</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#database目录" title="database目录">database目录</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#viewmodel目录" title="viewmodel目录">viewmodel目录</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#controller目录" title="controller目录">controller目录</a></div></div></div></div> <footer class="footer" data-v-fdbf4940><div class="footer-left-wrap" data-v-fdbf4940><ul class="contact" data-v-fdbf4940><li class="contact-item" data-v-fdbf4940><a href="https://github.com/myronyang" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-fdbf4940><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-fdbf4940><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-fdbf4940></path></svg>
          
        </a></li><li class="contact-item" data-v-fdbf4940><a href="/2018/09/06/business-standard/821253835@qq.com.html" class="nav-link" data-v-fdbf4940><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail" data-v-fdbf4940><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" data-v-fdbf4940></path><polyline points="22,6 12,13 2,6" data-v-fdbf4940></polyline></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-fdbf4940><ul class="copyright" data-v-fdbf4940><li class="copyright-item" data-v-fdbf4940><a href="/2018/09/06/business-standard/.html" class="nav-link" data-v-fdbf4940>MyronYang © 2020</a></li></ul></div></footer></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.2081b9de.js" defer></script><script src="/assets/js/6.e971b65b.js" defer></script><script src="/assets/js/3.7df72e40.js" defer></script><script src="/assets/js/15.54d3db27.js" defer></script>
  </body>
</html>
